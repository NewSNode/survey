<div ng-controller="PollCtrl" ng-init="$root.pageTitle = 'Poll'" />
<div class="panel panel-default">
	<div class="panel-heading">
		<h3 class="panel-title" translate>POLL</h3>
	</div>
	<div class="panel-body">
		<div class="alert alert-danger" role="alert" ng-show="error != null">{{error}}</div>
		<form class="form-horizontal" name="editPoll">
			<div class="control-group">
				<label class="control-label" for="pollName" translate>POLL_NAME</label>
				<div class="controls">
					<input id="pollName" type="text"
						class="input-xlarge" required="" ng-model="poll.name" />
				</div>
			</div>
			<div class="control-group" ng-repeat="question in poll.questions">
				<div class="control-group">
					<label class="control-label" for="questionType" translate>QUESTION_TYPE</label>
					<div class="controls">
						<select id="questionType" class="input-xlarge"
							ng-model="question.type">
							<option ng-repeat="type in types" value="{{type.value}}">{{type.name}}</option>
						</select>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="questionText" translate>QUESTION_TEXT</label>
					<div class="controls">
						<input id="questionText" type="text"
							class="input-xlarge" ng-model="question.text" />
					</div>
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for="addQuestion"></label>
				<div class="controls">
					<button id="addQuestion" class="btn btn-default"
						title="{{'ADD_QUESTION'|translate}}" ng-click="addQuestion()"
						translate>ADD_QUESTION</button>
				</div>
			</div>
			<div class="control-group">
				<label class="control-label" for="submit"></label>
				<div class="controls">
					<button id="savePoll" class="btn btn-primary"
						title="{{'SUBMIT'|translate}}" ng-click="savePoll(poll)">
						<span class="glyphicon glyphicon-ok" />
					</button>
					<button id="cancel" class="btn btn-default"
						title="{{'CANCEL'|translate}}" ng-click="cancel()" ng-discard>
						<span class="glyphicon glyphicon-remove" />
					</button>
				</div>
			</div>
		</form>
		<div id="messages" class="alert alert-success" data-ng-show="messages"
			data-ng-bind="messages" />
	</div>
</div>
